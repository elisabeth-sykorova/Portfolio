import{t as I,s as D,e as F,a as _}from"./WAx8iUfT.js";import"./CM3aeR6R.js";import{C as M,B as C,A as P,w as u,y as l,v as S,g as c,D as k}from"./F3RZw7HW.js";import{e as A,s as g,i as L}from"./DVmVS3Gq.js";import{s as x}from"./B39rSxGN.js";import{i as j}from"./BG_hHVqT.js";import{p as q}from"./BYRQkRSS.js";import{o as z}from"./YTMyldlJ.js";function G(v){return function(...m){var f=m[0];return f.preventDefault(),v==null?void 0:v.apply(this,m)}}var H=I("<li><a> </a></li>"),J=I('<div class="toc-container svelte-134nr5b"><div class="toc-content svelte-134nr5b"><nav class="toc-nav svelte-134nr5b"><ul class="svelte-134nr5b"></ul></nav></div></div>');function Y(v,m){M(m,!1);let f=q(m,"sections",24,()=>[]),p=P(""),d=[];function h(o,t=2e3){return new Promise((e,n)=>{const a=document.getElementById(o);if(a)return e(a);const s=new MutationObserver(()=>{const r=document.getElementById(o);r&&(s.disconnect(),e(r))});s.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{s.disconnect();const r=document.getElementById(o);r?e(r):n(new Error(`Element with id ${o} not found after timeout`))},t)})}async function B(o){try{await new Promise(e=>setTimeout(e,10));const t=await h(o);window.scrollTo({top:t.offsetTop-80,behavior:"smooth"})}catch(t){console.warn(`Failed to scroll to section ${o}:`,t),setTimeout(()=>{const e=document.getElementById(o);e&&window.scrollTo({top:e.offsetTop-80,behavior:"smooth"})},500)}}z(()=>(setTimeout(async()=>{for(const t of f())try{const e=await h(t.id),n=new IntersectionObserver(a=>{a.forEach(s=>{s.isIntersecting&&C(p,t.id)})},{rootMargin:"-80px 0px -80% 0px",threshold:0});n.observe(e),d=[...d,n]}catch(e){console.warn(`Failed to set up observer for section ${t.id}:`,e)}},100),()=>{d.forEach(t=>t.disconnect())})),j();var b=J(),w=u(b),y=u(w),T=u(y);A(T,5,f,L,(o,t)=>{let e=()=>c(t).id,n=()=>c(t).title,a=()=>c(t).level;var s=H();let r;var i=u(s);let E;var O=u(i,!0);l(i),l(s),S(()=>{r=g(s,1,`level-${a()??""}`,"svelte-134nr5b",r,{active:c(p)===e()}),x(i,"href",`#${e()??""}`),x(i,"aria-current",c(p)===e()?"true":"false"),E=g(i,1,"svelte-134nr5b",null,E,{active:c(p)===e()}),D(O,n())}),F("click",i,G(()=>B(e()))),_(o,s)}),l(T),l(y),l(w),l(b),_(v,b),k()}export{Y as T};
