import{t as I,s as F,e as D,a as x}from"./4VXVIelm.js";import"./DZVlJTJb.js";import{F as M,D as C,C as P,y as u,A as l,x as S,g as c,G as k}from"./CDKdtU_a.js";import{e as A,s as _,i as G}from"./B7GfEZbx.js";import{s as g}from"./i4YRnLSV.js";import{i as L}from"./B9_8J5I9.js";import{p as j}from"./wKWuYntD.js";import{o as q}from"./Ba2kp9X7.js";function z(v){return function(...m){var f=m[0];return f.preventDefault(),v==null?void 0:v.apply(this,m)}}var H=I("<li><a> </a></li>"),J=I('<div class="toc-container svelte-134nr5b"><div class="toc-content svelte-134nr5b"><nav class="toc-nav svelte-134nr5b"><ul class="svelte-134nr5b"></ul></nav></div></div>');function Y(v,m){M(m,!1);let f=j(m,"sections",24,()=>[]),p=P(""),d=[];function h(o,t=2e3){return new Promise((e,n)=>{const a=document.getElementById(o);if(a)return e(a);const s=new MutationObserver(()=>{const r=document.getElementById(o);r&&(s.disconnect(),e(r))});s.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{s.disconnect();const r=document.getElementById(o);r?e(r):n(new Error(`Element with id ${o} not found after timeout`))},t)})}async function O(o){try{await new Promise(e=>setTimeout(e,10));const t=await h(o);window.scrollTo({top:t.offsetTop-80,behavior:"smooth"})}catch(t){console.warn(`Failed to scroll to section ${o}:`,t),setTimeout(()=>{const e=document.getElementById(o);e&&window.scrollTo({top:e.offsetTop-80,behavior:"smooth"})},500)}}q(()=>(setTimeout(async()=>{for(const t of f())try{const e=await h(t.id),n=new IntersectionObserver(a=>{a.forEach(s=>{s.isIntersecting&&C(p,t.id)})},{rootMargin:"-80px 0px -80% 0px",threshold:0});n.observe(e),d=[...d,n]}catch(e){console.warn(`Failed to set up observer for section ${t.id}:`,e)}},100),()=>{d.forEach(t=>t.disconnect())})),L();var b=J(),w=u(b),y=u(w),T=u(y);A(T,5,f,G,(o,t)=>{let e=()=>c(t).id,n=()=>c(t).title,a=()=>c(t).level;var s=H();let r;var i=u(s);let E;var B=u(i,!0);l(i),l(s),S(()=>{r=_(s,1,`level-${a()??""}`,"svelte-134nr5b",r,{active:c(p)===e()}),g(i,"href",`#${e()??""}`),g(i,"aria-current",c(p)===e()?"true":"false"),E=_(i,1,"svelte-134nr5b",null,E,{active:c(p)===e()}),F(B,n())}),D("click",i,z(()=>O(e()))),x(o,s)}),l(T),l(y),l(w),l(b),x(v,b),k()}export{Y as T};
